# Svelte Kit (upcoming) vs NextJS

Comparison of major features in (the upcoming) Svelte Kit vs NextJS.

Goals: fast, easy, convention over configuration, & batteries included.
Overwhelming choices are bad versus providing a clear path forward.

|                                                     | Svelte Kit                                                      | NextJS                                                            | Winner    | Notes                                                                                                                                                                |
| --------------------------------------------------- | --------------------------------------------------------------- | ----------------------------------------------------------------- | --------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| UI lib                                              | Svelte                                                          | React (or Preact)                                                 | SvelteKit | Svelte offers faster, more minimal DOM updates & smaller Kb client size.                                                                                             |
| Dev: Hot reload                                     | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | I.e. Auto reload on file save.                                                                                                                                       |
| Dev: O(1) hot reload                                | ğŸŸ¢ Vite                                                         | âŒ                                                                | SvelteKit | I.e. Processes only the changed files. Fast even in big projects.                                                                                                    |
| Dev: "Fast refresh"                                 | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | I.e. UI state preserved across reloads.                                                                                                                              |
| Dev: Write modern JS                                | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | Svelte compiler processes it. NextJS uses Babel for this.                                                                                                            |
| Dev: A11y console hints                             | ğŸŸ¢                                                              | âŒ                                                                | SvelteKit |                                                                                                                                                                      |
| Dev: Prettier                                       | ğŸŸ¢ \*                                                           | ğŸŸ¢                                                                | --        | For `.svelte` or `.jsx` files. \*Install 'Svelte for VSCode' extension.                                                                                              |
| Prod: Bundler                                       | ğŸŸ¢ Rollup                                                       | ğŸŸ¢ Webpack                                                        | --        | E.g. Minify assets, etc.                                                                                                                                             |
| Prod: Auto code splitting, per route                | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | I.e. Auto code splits JS per route & bundles appropriately.                                                                                                          |
| Prod: HTTP2 push of JS/CSS                          | âŒ                                                              | âŒ                                                                | _Neither_ | I.e. Set initial page's HTML headers to push JS & CSS. Requires host support.                                                                                        |
| Kb size: Hello World                                | 20.4 (~9.6 gzip)\*                                              | _?_ 204                                                           | SvelteKit | \*Mar 13 2021. <https://svelte.dev/blog/sapper-towards-the-ideal-web-app-framework>                                                                                  |
| Kb size: "Real World" app                           | 45.3 (~21.8 gzip)\*                                             | _?_ 327 (~85.7 gzip)                                              | SvelteKit | \*Mar 13, 2021 <https://realworld.svelte.dev/>, <https://svelte.dev/blog/sapper-towards-the-ideal-web-app-framework>                                                 |
| Rendering: SSR, per route                           | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | I.e. Server-side rendered (at run time).                                                                                                                             |
| Rendering: SSG, per route                           | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | I.e. Static (at build time).                                                                                                                                         |
| Rendering: Incremental SSG, per route               | _?_                                                             | ğŸŸ¢                                                                | NextJS    | I.e. Static 'on demand' in production--first req dynamic then cached.                                                                                                |
| Headers: s-max-age & max-age, per route             | âŒ ğŸŸ¢                                                           | âŒ ğŸŸ¢                                                             | --        | Neither built in. Both can be via [Vercel.json](ğŸŸ¢) if hosted on Vercel.                                                                                             |
| Routes: File-based routing                          | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | For simplicity. Other routing utilities should be included.                                                                                                          |
| Routes: "SPA mode"                                  | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | I.e. After initial page load, client-side routing is used.                                                                                                           |
| Routes: Pre-fetch JS/CSS on link hover              | ğŸŸ¢                                                              | ğŸŸ¢ next/link                                                      | SvelteKit | Just add `sveltekit:prefetch` to a regular link. NextJS' requires using their link component; see docs.                                                              |
| Built-in: Metadata                                  | ğŸŸ¢                                                              | ğŸŸ¢ next/head                                                      | --        | Place within `<svelte:head>...</svelte:head>`                                                                                                                        |
| Built-in: State management                          | ğŸŸ¢ svelte/store                                                 | âŒ                                                                | SvelteKit | Ideal is one, easy, built-in way. React has many choices--Zustand is reasonable.                                                                                     |
| Built-in: Animations                                | ğŸŸ¢ svelte/animate                                               | âŒ                                                                | SvelteKit | 3rd-party options exist for React, but they're not as easy to use.                                                                                                   |
| Built-in: CSS scoping                               | ğŸŸ¢                                                              | ğŸŸ¢                                                                | SvelteKit | Svelte's is automatic. NextJS' is via CSS modules or CSS in JSX (not as clean).                                                                                      |
| Built-in: Web vitals reporting                      | âŒ                                                              | ğŸŸ¢                                                                | NextJS    | Vercel & Cloudflare 'Browser Insights' offer free analytics dashboards.                                                                                              |
| Image component                                     | ğŸŸ¢? [svelte-image](https://svelte-image.matyunya.now.sh/)       | ğŸŸ¢ [next/image](https://nextjs.org/docs/api-reference/next/image) | --        | Preferably optimized image generation with caching.                                                                                                                  |
| Auth                                                | âŒ                                                              | ğŸŸ¢ [NextAuth.js](https://next-auth.js.org)                        | NextJS    | NextAuth.js is defacto standard; easy to use; email, social, &/or magic link.                                                                                        |
| Forms                                               | ğŸŸ¢ [Felte](https://felte.dev)                                   | ğŸŸ¢ [Formik](https://formik.org)                                   | --        | Felte offers a nearly-native HTML5 form experience. Or [Sveltik](https://github.com/nathancahill/sveltik) is a port of Formik for React. Can use Yup for validation. |
| SWR-like data fetching                              | ğŸŸ¢? [svelte-query](https://github.com/SvelteStack/svelte-query) | ğŸŸ¢ [SWR](https://swr.vercel.app)                                  | --        | SWR is by Vercel. Easy fetch/isLoading/errors/caching.                                                                                                               |
| [Tailwind CSS](https://tailwindcss.com/) compatible | ğŸŸ¢                                                              | ğŸŸ¢                                                                | --        | Easy via github.com/svelte-add/tailwindcss. NextJS requires more steps, but [RFC](https://github.com/vercel/next.js/discussions/20030) for `npx init tailwind`       |
| [Headless UI](https://headlessui.dev/) available    | âŒ                                                              | ğŸš§ WIP                                                            | NextJS    | Un-styled UI components (dropdown, slider, toggle, etc) from Tailwind creators.                                                                                      |
| Docs                                                | _TBD_                                                           | 10/10                                                             | NextJS    |                                                                                                                                                                      |

ğŸš§ = WIP or RFC
